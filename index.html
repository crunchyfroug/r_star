<!DOCTYPE html>
<html lang="en" dir="ltr">
<style>

</style>
<head>
    <meta charset="UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script defer src="index.js" charset="utf-8"></script>
</head>
<body>
    <div id="dates">
        <br>
        <!---insert start and end date here-->
        <input id="begin" type="date">
        <input id = end type="date">
    </div><br>
    <div id="buttons">
        
        <button type="button" name="submit" onclick="myFunction()">Search</button>
        <button type="button" name="clear" onclick="clearDates()">Clear dates</button>
    </div>

    </div>
    <div id="container">
        <!--index.js fills this part-->
    </div>

</body>
<script>
    function clearDates(target) {
        begin.value="";
        end.value="";
    }
    function myFunction () {
    
    var startDate = document.getElementById("begin").value;
    var endDate = document.getElementById("end").value;
    var unixStart = Math.floor(new Date(startDate).getTime() / 1000.0);
    var unixEnd = Math.floor(new Date(endDate).getTime() / 1000.0);
    api_url = `https://api.coingecko.com/api/v3/coins/bitcoin/market_chart/range?vs_currency=eur&from=${unixStart}&to=${unixEnd}`;
    console.log(unixStart, unixEnd)
    $.getJSON(api_url, function(data) {
        console.log(data)
    });
}
</script>
</html>